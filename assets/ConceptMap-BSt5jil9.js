import{d as M,b as h,p as L,c as n,h as B,g as e,U as f,J as u,K as _,F as p,l as m,o as a,L as g,t as v}from"./index-DohdB70i.js";const R={class:"flex flex-col gap-6 p-4 max-w-7xl mx-auto"},S={class:"card bg-base-100 shadow-xl"},D={class:"card-body"},N={key:0,class:"card bg-base-100 shadow-xl"},O={class:"card-body"},$={class:"space-y-2"},E=["onUpdate:modelValue"],F=["onClick"],I={key:1,class:"card bg-base-100 shadow-xl"},J={class:"card-body"},z={class:"space-y-2"},A={class:"card-body p-4"},K={class:"flex items-center gap-2 flex-wrap"},T=["onUpdate:modelValue"],q=["value"],G=["onUpdate:modelValue"],H=["onUpdate:modelValue"],P=["value"],Q=["onClick"],W={key:2,class:"card bg-base-100 shadow-xl"},X={class:"card-body"},Y={class:"space-y-2"},Z={class:"flex items-center gap-2"},ee={class:"font-semibold"},te={class:"badge badge-primary"},se={class:"font-semibold"},ne=M({name:"ConceptMap",__name:"ConceptMap",setup(le){const c=h(""),i=h([]),r=h([]);let x=1;function k(){i.value.push({id:x++,name:""})}function y(o){i.value=i.value.filter(t=>t.id!==o),r.value=r.value.filter(t=>t.from!==o&&t.to!==o)}function C(){r.value.push({from:0,to:0,label:""})}function U(o){r.value.splice(o,1)}function b(o){return i.value.find(s=>s.id===o)?.name||`概念${o}`}const w=L(()=>r.value.filter(o=>o.from&&o.to));function V(){c.value="",i.value=[],r.value=[],x=1}function j(){const o={topic:c.value,concepts:i.value,relationships:w.value.map(l=>({from:b(l.from),to:b(l.to),label:l.label})),timestamp:new Date().toISOString()},t=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),d=document.createElement("a");d.href=s,d.download=`concept-map-${Date.now()}.json`,d.click(),URL.revokeObjectURL(s)}return(o,t)=>(a(),n("div",R,[t[9]||(t[9]=B('<div class="flex items-center gap-2"><h1 class="font-title text-2xl md:text-3xl lg:text-4xl font-bold">概念图</h1><span class="badge badge-secondary">理解</span></div><div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>理解概念或系统中实体之间的关系。通过可视化概念之间的连接，更好地理解复杂系统。</span></div>',2)),e("div",S,[e("div",D,[t[1]||(t[1]=e("h2",{class:"card-title"},"主题或领域",-1)),u(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),class:"textarea textarea-bordered w-full min-h-20",placeholder:"输入你要理解的主题或领域..."},null,512),[[_,c.value]])])]),c.value.trim()?(a(),n("div",N,[e("div",O,[e("div",{class:"flex items-center justify-between mb-2"},[t[2]||(t[2]=e("h2",{class:"card-title"},"概念",-1)),e("button",{class:"btn btn-primary btn-sm",onClick:k},"+ 添加概念")]),e("div",$,[(a(!0),n(p,null,m(i.value,(s,d)=>(a(),n("div",{key:s.id,class:"flex items-center gap-2"},[u(e("input",{"onUpdate:modelValue":l=>s.name=l,class:"input input-bordered input-sm flex-1",placeholder:"概念名称..."},null,8,E),[[_,s.name]]),e("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:l=>y(s.id)},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,F)]))),128))])])])):f("",!0),i.value.length>1?(a(),n("div",I,[e("div",J,[e("div",{class:"flex items-center justify-between mb-4"},[t[4]||(t[4]=e("h2",{class:"card-title"},"概念关系",-1)),e("button",{class:"btn btn-primary btn-sm",onClick:C},"+ 添加关系")]),e("div",z,[(a(!0),n(p,null,m(r.value,(s,d)=>(a(),n("div",{key:d,class:"card bg-base-200 shadow-sm"},[e("div",A,[e("div",K,[u(e("select",{"onUpdate:modelValue":l=>s.from=l,class:"select select-bordered select-sm"},[t[5]||(t[5]=e("option",{value:""},"选择概念",-1)),(a(!0),n(p,null,m(i.value,l=>(a(),n("option",{key:l.id,value:l.id},v(l.name),9,q))),128))],8,T),[[g,s.from]]),u(e("input",{"onUpdate:modelValue":l=>s.label=l,class:"input input-bordered input-sm flex-1 min-w-32",placeholder:"关系标签..."},null,8,G),[[_,s.label]]),u(e("select",{"onUpdate:modelValue":l=>s.to=l,class:"select select-bordered select-sm"},[t[6]||(t[6]=e("option",{value:""},"选择概念",-1)),(a(!0),n(p,null,m(i.value,l=>(a(),n("option",{key:l.id,value:l.id},v(l.name),9,P))),128))],8,H),[[g,s.to]]),e("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:l=>U(d)},[...t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Q)])])]))),128))])])])):f("",!0),r.value.length>0?(a(),n("div",W,[e("div",X,[t[8]||(t[8]=e("h2",{class:"card-title mb-4"},"关系网络",-1)),e("div",Y,[(a(!0),n(p,null,m(w.value,(s,d)=>(a(),n("div",{key:d,class:"alert"},[e("div",Z,[e("span",ee,v(b(s.from)),1),e("span",te,v(s.label||"相关"),1),e("span",se,v(b(s.to)),1)])]))),128))])])])):f("",!0),e("div",{class:"flex gap-2 justify-end"},[e("button",{class:"btn btn-outline",onClick:V},"清空"),e("button",{class:"btn btn-primary",onClick:j},"导出")])]))}});export{ne as default};
