import{d as D,b,c as a,n as S,g as t,D as B,x as h,y as w,F as p,k as v,o,t as f}from"./index-CY7clwz0.js";const L={class:"flex flex-col gap-6 p-4 max-w-7xl mx-auto"},O={class:"card bg-base-100 shadow-xl"},N={class:"card-body"},R={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},$={class:"card bg-base-100 shadow-xl"},E={class:"card-body"},z={class:"space-y-2"},F=["onUpdate:modelValue"],T=["onClick"],A={class:"card bg-base-100 shadow-xl"},J={class:"card-body"},q={class:"space-y-2"},G=["onUpdate:modelValue"],H=["onUpdate:modelValue"],K=["onClick"],P={key:0,class:"card bg-base-100 shadow-xl"},Q={class:"card-body"},W={class:"overflow-x-auto"},X={class:"table table-zebra w-full"},Y={class:"text-xs opacity-70"},Z={class:"font-medium"},I=["value","onInput"],tt={class:"text-center font-bold"},lt=D({name:"DecisionMatrix",__name:"DecisionMatrix",setup(et){const m=b(""),c=b([]),i=b([]),u=b([]);function _(){c.value.push({name:""}),g()}function k(n){c.value.splice(n,1),u.value.splice(n,1)}function y(){i.value.push({name:"",weight:1}),g()}function C(n){i.value.splice(n,1),u.value.forEach(e=>e.splice(n,1))}function g(){u.value=c.value.map(()=>i.value.map(()=>0))}function U(n,e,l){u.value[n]||(u.value[n]=i.value.map(()=>0));const s=u.value[n];s&&(s[e]=Number.parseInt(l)||0)}function x(n){return u.value[n]?.reduce((e,l,s)=>{const r=i.value[s]?.weight||1;return e+l*r},0)||0}function j(){m.value="",c.value=[],i.value=[],u.value=[]}function V(){const n={decision:m.value,options:c.value,criteria:i.value,scores:u.value,totals:c.value.map((r,d)=>x(d)),timestamp:new Date().toISOString()},e=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),l=URL.createObjectURL(e),s=document.createElement("a");s.href=l,s.download=`decision-matrix-${Date.now()}.json`,s.click(),URL.revokeObjectURL(l)}return(n,e)=>(o(),a("div",L,[e[9]||(e[9]=S('<div class="flex items-center gap-2"><h1 class="font-title text-2xl md:text-3xl lg:text-4xl font-bold">决策矩阵</h1><span class="badge badge-secondary">决策</span></div><div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>通过考虑多个因素来选择最佳选项</span></div>',2)),t("div",O,[t("div",N,[e[1]||(e[1]=t("h2",{class:"card-title"},"决策问题",-1)),h(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),class:"textarea textarea-bordered w-full min-h-20",placeholder:"输入你要做的决策..."},null,512),[[w,m.value]])])]),t("div",R,[t("div",$,[t("div",E,[t("div",{class:"flex items-center justify-between mb-2"},[e[2]||(e[2]=t("h2",{class:"card-title"},"选项",-1)),t("button",{class:"btn btn-sm btn-primary",onClick:_},"+ 添加选项")]),t("div",z,[(o(!0),a(p,null,v(c.value,(l,s)=>(o(),a("div",{key:s,class:"flex items-center gap-2"},[h(t("input",{"onUpdate:modelValue":r=>l.name=r,class:"input input-bordered input-sm flex-1",placeholder:"选项名称..."},null,8,F),[[w,l.name]]),t("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:r=>k(s)},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,T)]))),128))])])]),t("div",A,[t("div",J,[t("div",{class:"flex items-center justify-between mb-2"},[e[4]||(e[4]=t("h2",{class:"card-title"},"评估标准",-1)),t("button",{class:"btn btn-sm btn-primary",onClick:y},"+ 添加标准")]),t("div",q,[(o(!0),a(p,null,v(i.value,(l,s)=>(o(),a("div",{key:s,class:"flex items-center gap-2"},[h(t("input",{"onUpdate:modelValue":r=>l.name=r,class:"input input-bordered input-sm flex-1",placeholder:"标准名称..."},null,8,G),[[w,l.name]]),h(t("input",{"onUpdate:modelValue":r=>l.weight=r,type:"number",min:"1",max:"10",class:"input input-bordered input-sm w-20",placeholder:"权重"},null,8,H),[[w,l.weight,void 0,{number:!0}]]),t("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:r=>C(s)},[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,K)]))),128))])])])]),c.value.length>0&&i.value.length>0?(o(),a("div",P,[t("div",Q,[e[8]||(e[8]=t("h2",{class:"card-title mb-4"},"评分矩阵",-1)),t("div",W,[t("table",X,[t("thead",null,[t("tr",null,[e[6]||(e[6]=t("th",null,"选项",-1)),(o(!0),a(p,null,v(i.value,(l,s)=>(o(),a("th",{key:s,class:"text-center"},[t("div",null,f(l.name),1),t("div",Y,"权重: "+f(l.weight),1)]))),128)),e[7]||(e[7]=t("th",{class:"text-center font-bold"},"总分",-1))])]),t("tbody",null,[(o(!0),a(p,null,v(c.value,(l,s)=>(o(),a("tr",{key:s},[t("td",Z,f(l.name||`选项 ${s+1}`),1),(o(!0),a(p,null,v(i.value,(r,d)=>(o(),a("td",{key:d,class:"text-center"},[t("input",{type:"number",min:"1",max:"10",class:"input input-bordered input-sm w-20 text-center",placeholder:"1-10",value:u.value[s]?.[d]??0,onInput:M=>U(s,d,M.target.value)},null,40,I)]))),128)),t("td",tt,f(x(s)),1)]))),128))])])])])])):B("",!0),t("div",{class:"flex gap-2 justify-end"},[t("button",{class:"btn btn-outline",onClick:j},"清空"),t("button",{class:"btn btn-primary",onClick:V},"导出")])]))}});export{lt as default};
