import{d as x,a as d,b as w,p as _,A as T,f as r,o as c,q as g,R as f,g as e,t as C,_ as S,J as v,P as y,h as $,K as H,k as V,i as j}from"./index-Bd8mG1Y2.js";import{c as b}from"./bundle-full-DcZRxafZ.js";const M=["title"],F={key:0,class:"copy-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},L={key:1,class:"copy-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},N={class:"copy-text"},O={class:"code"},B=["innerHTML"],E={key:1,class:"loading-placeholder"},D=x({__name:"ShikiHighlight",props:{lang:{default:"javascript"},code:{default:`// 对象拷贝
function copyObject(orig) {
  var copy = Object.create(Object.getPrototypeOf(orig));
  copyOwnPropertiesFrom(copy, orig);
  return copy;
}`},theme:{default:"vitesse-dark"}},setup(p){const o=p,s=d(""),n=d(!1),u=d(o.theme),t=d(!1);let a=null;const m=async()=>{if(!o.code){s.value="";return}n.value=!0;try{const i=await b(o.code,{lang:o.lang,theme:o.theme});s.value=i,u.value=o.theme}catch(i){if(console.warn(`Failed to highlight code with theme "${o.theme}":`,i),o.theme!=="vitesse-dark"&&u.value!=="vitesse-dark")try{const l=await b(o.code,{lang:o.lang,theme:"vitesse-dark"});s.value=l,u.value="vitesse-dark",console.warn('Fallback to default theme "vitesse-dark"')}catch(l){console.error("Fallback theme also failed:",l),s.value=`<pre><code>${h(o.code)}</code></pre>`}else s.value=`<pre><code>${h(o.code)}</code></pre>`}finally{n.value=!1}};function h(i){if(typeof document>"u")return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");const l=document.createElement("div");return l.textContent=i,l.innerHTML}const k=async()=>{if(o.code)try{await navigator.clipboard.writeText(o.code),t.value=!0,a&&clearTimeout(a),a=setTimeout(()=>{t.value=!1},2e3)}catch(i){console.error("Failed to copy code:",i);try{const l=document.createElement("textarea");l.value=o.code,l.style.position="fixed",l.style.opacity="0",document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),t.value=!0,a&&clearTimeout(a),a=setTimeout(()=>{t.value=!1},2e3)}catch(l){console.error("Fallback copy also failed:",l)}}};return w(()=>{m()}),_([()=>o.code,()=>o.lang,()=>o.theme],()=>{m()},{immediate:!1}),T(()=>{a&&clearTimeout(a)}),(i,l)=>(c(),r("div",{class:g(["code-container",[`language-${p.lang}`,{loading:n.value}]])},[s.value&&!n.value?(c(),r("button",{key:0,class:g(["copy-button",{copied:t.value}]),onClick:k,title:t.value?"已复制!":"复制代码"},[t.value?(c(),r("svg",L,[...l[1]||(l[1]=[e("polyline",{points:"20 6 9 17 4 12"},null,-1)])])):(c(),r("svg",F,[...l[0]||(l[0]=[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)])])),e("span",N,C(t.value?"已复制":"复制"),1)],10,M)):f("",!0),e("div",O,[s.value?(c(),r("div",{key:0,innerHTML:s.value},null,8,B)):n.value?(c(),r("div",E," 加载中... ")):f("",!0)])],2))}}),J=S(D,[["__scopeId","data-v-a016e3c7"]]),P={class:"flex flex-col gap-6 p-4 max-w-7xl mx-auto"},U={class:"card bg-base-100 shadow-xl"},q={class:"card-body"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={class:"form-control"},z={class:"form-control"},G={class:"form-control mt-4"},K={class:"card bg-base-100 shadow-xl"},R={class:"card-body"},Q={class:"mt-4"},Y=x({__name:"ImportView",setup(p){const o=d("const a = 1"),s=d("ts"),n=d("vitesse-dark");return(u,t)=>(c(),r("div",P,[t[10]||(t[10]=e("div",{class:"flex items-center gap-2"},[e("h1",{class:"font-title text-2xl md:text-3xl lg:text-4xl font-bold"},"Shiki 代码高亮"),e("span",{class:"badge badge-primary"},"ShikiHighlight")],-1)),e("div",U,[e("div",q,[t[8]||(t[8]=e("h2",{class:"card-title"},"配置选项",-1)),e("div",A,[e("div",I,[t[4]||(t[4]=e("label",{class:"label"},[e("span",{class:"label-text font-semibold"},"编程语言")],-1)),v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.value=a),class:"select select-bordered w-full"},[...t[3]||(t[3]=[$('<option value="ts">TypeScript</option><option value="js">JavaScript</option><option value="json">JSON</option><option value="css">CSS</option><option value="html">HTML</option><option value="vue">Vue</option><option value="java">Java</option><option value="python">Python</option><option value="c">C</option>',9)])],512),[[y,s.value]])]),e("div",z,[t[6]||(t[6]=e("label",{class:"label"},[e("span",{class:"label-text font-semibold"},"主题")],-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.value=a),class:"select select-bordered w-full"},[...t[5]||(t[5]=[e("option",{value:"vitesse-dark"},"Vitesse Dark",-1),e("option",{value:"nord"},"Nord",-1),e("option",{value:"github-light"},"GitHub Light",-1),e("option",{value:"dracula"},"Dracula",-1)])],512),[[y,n.value]])])]),e("div",G,[t[7]||(t[7]=e("label",{class:"label"},[e("span",{class:"label-text font-semibold"},"代码内容")],-1)),v(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),class:"textarea textarea-bordered w-full min-h-32 font-mono text-sm",placeholder:"在这里输入你的代码..."},null,512),[[H,o.value]])])])]),e("div",K,[e("div",R,[t[9]||(t[9]=e("h2",{class:"card-title"},"预览效果",-1)),e("div",Q,[V(j(J),{code:o.value,lang:s.value,theme:n.value},null,8,["code","lang","theme"])])])])]))}});export{Y as default};
