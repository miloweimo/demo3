import{d as y,b as v,c as a,h as C,g as t,J as c,K as u,t as j,F as m,l as h,o as i}from"./index-CJa-MJAV.js";const U={class:"flex flex-col gap-6 p-4 max-w-7xl mx-auto"},B={class:"card bg-base-100 shadow-xl"},D={class:"card-body"},L={class:"card bg-base-100 shadow-xl"},M={class:"card-body"},V={key:0,class:"space-y-8"},S={class:"flex items-center justify-center"},O={class:"card bg-primary text-primary-content shadow-lg px-6 py-3"},R={class:"text-lg font-bold"},$={class:"relative"},N={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},E={class:"card-body p-4"},F={class:"flex items-center justify-between mb-2"},J=["onUpdate:modelValue"],z=["onClick"],A={class:"space-y-2"},K=["onUpdate:modelValue"],T=["onClick"],q=["onClick"],G={key:1,class:"text-center text-base-content/50 py-8"},Q=y({name:"IshikawaDiagram",__name:"IshikawaDiagram",setup(H){const r=v(""),l=v([]);function g(){l.value.push({name:"",causes:[]})}function x(o){l.value.splice(o,1)}function f(o){const e=l.value[o];e&&e.causes.push({text:""})}function w(o,e){const s=l.value[o];s&&s.causes.splice(e,1)}function k(){r.value="",l.value=[]}function _(){const o={problem:r.value,categories:l.value,timestamp:new Date().toISOString()},e=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),n=document.createElement("a");n.href=s,n.download=`ishikawa-diagram-${Date.now()}.json`,n.click(),URL.revokeObjectURL(s)}return(o,e)=>(i(),a("div",U,[e[7]||(e[7]=C('<div class="flex items-center gap-2"><h1 class="font-title text-2xl md:text-3xl lg:text-4xl font-bold">鱼骨图</h1><span class="badge badge-secondary">问题解决</span></div><div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>识别问题的根本原因。通过分析不同类别的可能原因，找到问题的根源。</span></div>',2)),t("div",B,[t("div",D,[e[1]||(e[1]=t("h2",{class:"card-title"},"问题描述",-1)),c(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),class:"textarea textarea-bordered w-full min-h-20",placeholder:"输入你要分析的问题..."},null,512),[[u,r.value]])])]),t("div",L,[t("div",M,[t("div",{class:"flex items-center justify-between mb-4"},[e[2]||(e[2]=t("h2",{class:"card-title"},"原因分析",-1)),t("button",{class:"btn btn-primary btn-sm",onClick:g},"+ 添加类别")]),r.value.trim()?(i(),a("div",V,[t("div",S,[t("div",O,[t("h3",R,j(r.value),1)])]),t("div",$,[e[5]||(e[5]=t("div",{class:"flex items-center justify-center mb-8"},[t("div",{class:"w-full max-w-4xl h-1 bg-base-content"})],-1)),t("div",N,[(i(!0),a(m,null,h(l.value,(s,n)=>(i(),a("div",{key:n,class:"card bg-base-200 shadow-md"},[t("div",E,[t("div",F,[c(t("input",{"onUpdate:modelValue":d=>s.name=d,class:"input input-bordered input-sm flex-1 font-bold",placeholder:"类别名称..."},null,8,J),[[u,s.name]]),t("button",{class:"btn btn-circle btn-xs btn-ghost",onClick:d=>x(n)},[...e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,z)]),t("div",A,[(i(!0),a(m,null,h(s.causes,(d,p)=>(i(),a("div",{key:p,class:"flex items-center gap-2"},[c(t("input",{"onUpdate:modelValue":b=>d.text=b,class:"input input-bordered input-sm flex-1",placeholder:"原因..."},null,8,K),[[u,d.text]]),t("button",{class:"btn btn-circle btn-xs btn-ghost",onClick:b=>w(n,p)},[...e[4]||(e[4]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,T)]))),128)),t("button",{class:"btn btn-xs btn-ghost w-full",onClick:d=>f(n)}," + 添加原因 ",8,q)])])]))),128))])])])):(i(),a("div",G,[...e[6]||(e[6]=[t("p",null,"请输入问题描述，然后添加分析类别",-1)])]))])]),t("div",{class:"flex gap-2 justify-end"},[t("button",{class:"btn btn-outline",onClick:k},"清空"),t("button",{class:"btn btn-primary",onClick:_},"导出")])]))}});export{Q as default};
