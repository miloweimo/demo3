import{d as j,a as m,f as l,h as S,g as t,R as h,J as u,K as b,t as p,F as x,l as _,o as i}from"./index-Bd8mG1Y2.js";const I={class:"flex flex-col gap-6 p-4 max-w-7xl mx-auto"},U={class:"card bg-base-100 shadow-xl"},V={class:"card-body"},B={key:0,class:"card bg-base-100 shadow-xl"},L={class:"card-body"},M={class:"flex items-center justify-between mb-4"},D={class:"space-y-4"},R={class:"card bg-primary text-primary-content shadow-lg"},$={class:"card-body"},N={class:"space-y-2 ml-4"},O={class:"card-body p-4"},T={class:"flex items-start justify-between gap-2"},E={class:"flex-1"},F={class:"flex items-center gap-2 mb-2"},J={class:"badge badge-primary"},z=["onUpdate:modelValue"],A={key:0,class:"mt-2 ml-4 space-y-2"},K={class:"card-body p-3"},q={class:"flex items-start justify-between gap-2"},G={class:"flex-1"},H={class:"badge badge-secondary text-xs mb-1"},P=["onUpdate:modelValue"],Q=["onClick"],W=["onClick"],X={class:"flex flex-col gap-2"},Y=["onClick"],et=j({name:"IssueTrees",__name:"IssueTrees",setup(Z){const d=m(""),n=m([]);function f(o){n.value.push({text:"",children:[]})}function g(o){n.value.splice(o,1)}function w(o){const e=n.value[o];e&&e.children.push({text:""})}function k(o,e){const s=n.value[o];s&&s.children.splice(e,1)}function y(){d.value="",n.value=[]}function C(){const o={mainIssue:d.value,subIssues:n.value,timestamp:new Date().toISOString()},e=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`issue-trees-${Date.now()}.json`,a.click(),URL.revokeObjectURL(s)}return(o,e)=>(i(),l("div",I,[e[7]||(e[7]=S('<div class="flex items-center gap-2"><h1 class="font-title text-2xl md:text-3xl lg:text-4xl font-bold">问题树</h1><span class="badge badge-secondary">问题解决</span></div><div class="alert alert-info"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>以系统的方式结构化和解决问题。将问题分解为子问题，形成树状结构，帮助全面理解问题。</span></div>',2)),t("div",U,[t("div",V,[e[2]||(e[2]=t("h2",{class:"card-title"},"主要问题",-1)),u(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"textarea textarea-bordered w-full min-h-20",placeholder:"输入你要分析的主要问题..."},null,512),[[b,d.value]])])]),d.value.trim()?(i(),l("div",B,[t("div",L,[t("div",M,[e[3]||(e[3]=t("h2",{class:"card-title"},"问题树",-1)),t("button",{class:"btn btn-primary btn-sm",onClick:e[1]||(e[1]=s=>f())},"+ 添加子问题")]),t("div",D,[t("div",R,[t("div",$,[e[4]||(e[4]=t("h3",{class:"card-title text-lg"},"主问题",-1)),t("p",null,p(d.value),1)])]),t("div",N,[(i(!0),l(x,null,_(n.value,(s,a)=>(i(),l("div",{key:a,class:"card bg-base-200 shadow-md"},[t("div",O,[t("div",T,[t("div",E,[t("div",F,[t("span",J,"子问题 "+p(a+1),1)]),u(t("textarea",{"onUpdate:modelValue":r=>s.text=r,class:"textarea textarea-bordered flex-1 min-h-20",placeholder:"子问题描述..."},null,8,z),[[b,s.text]]),s.children.length>0?(i(),l("div",A,[(i(!0),l(x,null,_(s.children,(r,c)=>(i(),l("div",{key:c,class:"card bg-base-100 shadow-sm"},[t("div",K,[t("div",q,[t("div",G,[t("span",H,"子子问题 "+p(c+1),1),u(t("textarea",{"onUpdate:modelValue":v=>r.text=v,class:"textarea textarea-bordered text-sm flex-1 min-h-16",placeholder:"子子问题描述..."},null,8,P),[[b,r.text]])]),t("button",{class:"btn btn-xs btn-circle btn-ghost",onClick:v=>k(a,c)},[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Q)])])]))),128))])):h("",!0),t("button",{class:"btn btn-xs btn-ghost mt-2",onClick:r=>w(a)}," + 添加子子问题 ",8,W)]),t("div",X,[t("button",{class:"btn btn-sm btn-circle btn-ghost",onClick:r=>g(a)},[...e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Y)])])])]))),128))])])])])):h("",!0),t("div",{class:"flex gap-2 justify-end"},[t("button",{class:"btn btn-outline",onClick:y},"清空"),t("button",{class:"btn btn-primary",onClick:C},"导出")])]))}});export{et as default};
